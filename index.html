<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Union Crypto Casino</title>
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Fonts and Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- Framer Motion via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0b0e 0%, #1a1f2e 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated background particles */
        .particle {
            position: fixed;
            width: 2px;
            height: 2px;
            background: rgba(255, 215, 0, 0.3);
            border-radius: 50%;
            pointer-events: none;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            from {
                transform: translateY(100vh) translateX(0);
            }
            to {
                transform: translateY(-100vh) translateX(100vw);
            }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.1);
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .gradient-text {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .glow-effect {
            transition: all 0.3s ease;
        }

        .glow-effect:hover {
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            transform: translateY(-2px);
        }

        .neon-border {
            position: relative;
            overflow: hidden;
        }

        .neon-border::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #FFD700, #FFA500, #FFD700);
            border-radius: 26px;
            z-index: -1;
            animation: borderGlow 3s linear infinite;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .neon-border:hover::before {
            opacity: 1;
        }

        @keyframes borderGlow {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }

        .pulse-animation {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .spin-animation {
            animation: spin 10s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .game-card {
            background: rgba(26, 31, 46, 0.9);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .game-card:hover {
            border-color: #FFD700;
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.2);
        }

        .stat-value {
            font-size: 24px;
            font-weight: 800;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn-primary {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border: none;
            border-radius: 16px;
            padding: 16px 32px;
            font-weight: 700;
            color: #0a0b0e;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.5);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 16px;
            padding: 14px 28px;
            font-weight: 600;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: #FFD700;
        }

        .input-field {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 16px;
            padding: 16px;
            color: #fff;
            font-size: 16px;
            width: 100%;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #FFD700;
            box-shadow: 0 0 0 2px rgba(255, 215, 0, 0.1);
        }

        .chip {
            background: linear-gradient(135deg, #2a2f3f, #1a1f2e);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 40px;
            padding: 10px 20px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }

        .chip i {
            color: #FFD700;
        }

        .floating-icon {
            position: absolute;
            opacity: 0.1;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        const { useState, useEffect } = React;
        const { motion, AnimatePresence } = window.framerMotion;

        // Particle background generator
        const Particles = () => {
            const particles = [];
            for (let i = 0; i < 50; i++) {
                particles.push(
                    <div
                        key={i}
                        className="particle"
                        style={{
                            left: `${Math.random() * 100}%`,
                            animationDelay: `${Math.random() * 20}s`,
                            animationDuration: `${15 + Math.random() * 10}s`,
                            width: `${1 + Math.random() * 3}px`,
                            height: `${1 + Math.random() * 3}px`,
                            background: `rgba(255, ${215 + Math.random() * 40}, 0, ${0.1 + Math.random() * 0.3})`
                        }}
                    />
                );
            }
            return particles;
        };

        const App = () => {
            const [view, setView] = useState('home');
            const [balance, setBalance] = useState(1247.32);
            const [username, setUsername] = useState('');
            const [gameData, setGameData] = useState({
                type: '',
                bet: 0,
                outcome: ''
            });
            const [stats, setStats] = useState({
                games: 47,
                wins: 23,
                winRate: 49,
                profit: 324.50
            });
            const [loading, setLoading] = useState(false);
            const [telegram, setTelegram] = useState(null);

            useEffect(() => {
                // Initialize Telegram Web App
                if (window.Telegram && window.Telegram.WebApp) {
                    const tg = window.Telegram.WebApp;
                    tg.ready();
                    tg.expand();
                    tg.setHeaderColor('#0a0b0e');
                    tg.setBackgroundColor('#0a0b0e');
                    
                    setTelegram(tg);
                    
                    // Get user data from Telegram
                    if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
                        setUsername(tg.initDataUnsafe.user.username || 'Player');
                    }

                    // Enable back button
                    tg.BackButton.onClick(() => setView('home'));
                }
            }, []);

            useEffect(() => {
                if (telegram) {
                    if (view === 'home') {
                        telegram.BackButton.hide();
                    } else {
                        telegram.BackButton.show();
                    }
                }
            }, [view, telegram]);

            const games = [
                { id: 'basketball', name: 'üèÄ –ë–∞—Å–∫–µ—Ç–±–æ–ª', icon: 'üèÄ', color: '#FF6B35', outcomes: ['–ú–∏–º–æ (x1.8)', '3-–æ—á–∫–æ–≤—ã–π (x2.5)'] },
                { id: 'football', name: '‚öΩ –§—É—Ç–±–æ–ª', icon: '‚öΩ', color: '#2E86AB', outcomes: ['–ú–∏–º–æ (x1.7)', '–ì–æ–ª (x2.2)'] },
                { id: 'dice', name: 'üé≤ –ö–æ—Å—Ç–∏', icon: 'üé≤', color: '#A23B72', outcomes: ['1-3 (x1.5)', '4-6 (x1.5)'] },
                { id: 'bowling', name: 'üé≥ –ë–æ—É–ª–∏–Ω–≥', icon: 'üé≥', color: '#F18F01', outcomes: ['–ú–∏–º–æ (x1.6)', '3-4 –∫–µ–≥–ª–∏ (x2.2)', '5 –∫–µ–≥–ª–µ–π (x3.0)', '–°—Ç—Ä–∞–π–∫ (x4.0)'] }
            ];

            const HomeView = () => (
                <motion.div
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1 }}
                    exit={{ opacity: 0 }}
                    className="min-h-screen p-4"
                >
                    {/* Header */}
                    <div className="glass-card p-6 mb-6 relative overflow-hidden">
                        <motion.div
                            className="absolute top-0 right-0 w-32 h-32 opacity-10"
                            animate={{ rotate: 360 }}
                            transition={{ duration: 20, repeat: Infinity, ease: "linear" }}
                        >
                            <i className="fas fa-coins text-6xl text-yellow-400"></i>
                        </motion.div>
                        
                        <div className="relative z-10">
                            <div className="flex justify-between items-center mb-4">
                                <h1 className="text-2xl font-800">
                                    <span className="gradient-text">Union</span> Casino
                                </h1>
                                <div className="chip">
                                    <i className="fas fa-user"></i>
                                    <span>@{username || 'Player'}</span>
                                </div>
                            </div>
                            
                            <div className="text-center mb-4">
                                <div className="text-sm text-gray-400 mb-1">–í–∞—à –±–∞–ª–∞–Ω—Å</div>
                                <motion.div
                                    key={balance}
                                    initial={{ scale: 1.5, opacity: 0 }}
                                    animate={{ scale: 1, opacity: 1 }}
                                    className="text-4xl font-800 gradient-text"
                                >
                                    ${balance.toFixed(2)}
                                </motion.div>
                            </div>
                            
                            <div className="grid grid-cols-3 gap-3 mt-6">
                                <motion.div 
                                    whileTap={{ scale: 0.95 }}
                                    className="text-center"
                                >
                                    <div className="stat-value">{stats.games}</div>
                                    <div className="text-xs text-gray-400">–ò–≥—Ä</div>
                                </motion.div>
                                <motion.div 
                                    whileTap={{ scale: 0.95 }}
                                    className="text-center"
                                >
                                    <div className="stat-value">{stats.wins}</div>
                                    <div className="text-xs text-gray-400">–ü–æ–±–µ–¥</div>
                                </motion.div>
                                <motion.div 
                                    whileTap={{ scale: 0.95 }}
                                    className="text-center"
                                >
                                    <div className="stat-value">{stats.winRate}%</div>
                                    <div className="text-xs text-gray-400">–í–∏–Ω—Ä–µ–π—Ç</div>
                                </motion.div>
                            </div>
                        </div>
                    </div>

                    {/* Quick Actions */}
                    <div className="grid grid-cols-2 gap-4 mb-8">
                        <motion.button
                            whileHover={{ scale: 1.02 }}
                            whileTap={{ scale: 0.98 }}
                            className="btn-primary flex items-center justify-center gap-2"
                            onClick={() => setView('deposit')}
                        >
                            <i className="fas fa-coins"></i>
                            –ü–æ–ø–æ–ª–Ω–∏—Ç—å
                        </motion.button>
                        <motion.button
                            whileHover={{ scale: 1.02 }}
                            whileTap={{ scale: 0.98 }}
                            className="btn-secondary flex items-center justify-center gap-2"
                            onClick={() => setView('withdraw')}
                        >
                            <i className="fas fa-arrow-up"></i>
                            –í—ã–≤–æ–¥
                        </motion.button>
                    </div>

                    {/* Games Grid */}
                    <h2 className="text-xl font-700 mb-4 flex items-center gap-2">
                        <i className="fas fa-dice text-yellow-400"></i>
                        –ò–≥—Ä—ã
                    </h2>
                    
                    <div className="grid grid-cols-2 gap-4">
                        {games.map((game, index) => (
                            <motion.div
                                key={game.id}
                                initial={{ opacity: 0, y: 20 }}
                                animate={{ opacity: 1, y: 0 }}
                                transition={{ delay: index * 0.1 }}
                                whileHover={{ scale: 1.02 }}
                                whileTap={{ scale: 0.98 }}
                                className="game-card neon-border"
                                onClick={() => setView(`game-${game.id}`)}
                            >
                                <div className="text-4xl mb-3">{game.icon}</div>
                                <h3 className="font-600 mb-1">{game.name}</h3>
                                <p className="text-xs text-gray-400">
                                    –¥–æ x{Math.max(...game.outcomes.map(o => parseFloat(o.match(/x(\d+\.?\d*)/)?.[1] || 0))}
                                </p>
                                <div className="mt-3 flex justify-end">
                                    <i className="fas fa-arrow-right text-yellow-400"></i>
                                </div>
                            </motion.div>
                        ))}
                    </div>
                </motion.div>
            );

            const GameView = ({ gameId }) => {
                const game = games.find(g => g.id === gameId);
                const [selectedOutcome, setSelectedOutcome] = useState(null);
                const [betAmount, setBetAmount] = useState(10);
                const [isPlaying, setIsPlaying] = useState(false);

                const handlePlay = () => {
                    if (!selectedOutcome || betAmount < 1 || betAmount > balance) return;
                    
                    setIsPlaying(true);
                    setTimeout(() => {
                        setBalance(prev => prev - betAmount);
                        setIsPlaying(false);
                        setView('result');
                    }, 2000);
                };

                return (
                    <motion.div
                        initial={{ opacity: 0, x: 300 }}
                        animate={{ opacity: 1, x: 0 }}
                        exit={{ opacity: 0, x: -300 }}
                        className="min-h-screen p-4"
                    >
                        {/* Game Header */}
                        <div 
                            className="glass-card p-6 mb-6 text-center"
                            style={{ borderColor: game.color }}
                        >
                            <motion.div
                                animate={isPlaying ? { rotate: 360, scale: [1, 1.2, 1] } : {}}
                                transition={{ duration: 2, ease: "easeInOut" }}
                                className="text-7xl mb-4"
                            >
                                {game.icon}
                            </motion.div>
                            <h1 className="text-2xl font-800 mb-2">{game.name}</h1>
                            <p className="text-gray-400">–ë–∞–ª–∞–Ω—Å: ${balance.toFixed(2)}</p>
                        </div>

                        {/* Bet Amount */}
                        <div className="mb-6">
                            <label className="block text-sm font-600 mb-2 text-gray-400">
                                –°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏
                            </label>
                            <div className="flex gap-2">
                                <input
                                    type="number"
                                    className="input-field"
                                    value={betAmount}
                                    onChange={(e) => setBetAmount(Number(e.target.value))}
                                    min="1"
                                    max={balance}
                                    disabled={isPlaying}
                                />
                            </div>
                            <div className="grid grid-cols-4 gap-2 mt-2">
                                {[5, 10, 25, 50].map(amount => (
                                    <motion.button
                                        key={amount}
                                        whileTap={{ scale: 0.95 }}
                                        className="btn-secondary text-sm py-2"
                                        onClick={() => setBetAmount(amount)}
                                        disabled={isPlaying}
                                    >
                                        ${amount}
                                    </motion.button>
                                ))}
                            </div>
                        </div>

                        {/* Outcomes */}
                        <div className="mb-8">
                            <label className="block text-sm font-600 mb-2 text-gray-400">
                                –í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ö–æ–¥
                            </label>
                            <div className="space-y-2">
                                {game.outcomes.map((outcome, idx) => {
                                    const odds = parseFloat(outcome.match(/x(\d+\.?\d*)/)?.[1] || 1);
                                    const potentialWin = (betAmount * odds).toFixed(2);
                                    
                                    return (
                                        <motion.button
                                            key={idx}
                                            whileHover={{ scale: 1.01 }}
                                            whileTap={{ scale: 0.99 }}
                                            className={`w-full p-4 rounded-2xl text-left transition-all ${
                                                selectedOutcome === idx 
                                                    ? 'bg-gradient-to-r from-yellow-500 to-orange-500 text-black' 
                                                    : 'bg-white/5 hover:bg-white/10'
                                            }`}
                                            onClick={() => setSelectedOutcome(idx)}
                                            disabled={isPlaying}
                                        >
                                            <div className="flex justify-between items-center">
                                                <span className="font-600">{outcome}</span>
                                                <span className="font-700">
                                                    ${potentialWin}
                                                </span>
                                            </div>
                                        </motion.button>
                                    );
                                })}
                            </div>
                        </div>

                        {/* Play Button */}
                        <motion.button
                            whileHover={{ scale: 1.02 }}
                            whileTap={{ scale: 0.98 }}
                            className={`btn-primary w-full ${isPlaying ? 'opacity-50' : ''}`}
                            onClick={handlePlay}
                            disabled={!selectedOutcome || betAmount < 1 || betAmount > balance || isPlaying}
                        >
                            {isPlaying ? (
                                <div className="flex items-center justify-center gap-2">
                                    <i className="fas fa-spinner fa-spin"></i>
                                    –ë—Ä–æ—Å–æ–∫...
                                </div>
                            ) : (
                                '–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É'
                            )}
                        </motion.button>
                    </motion.div>
                );
            };

            const ResultView = () => {
                const [showResult, setShowResult] = useState(false);
                const [diceValue, setDiceValue] = useState(null);
                const [isWin, setIsWin] = useState(false);

                useEffect(() => {
                    // Simulate dice roll
                    setTimeout(() => {
                        const value = Math.floor(Math.random() * 6) + 1;
                        setDiceValue(value);
                        setIsWin(value > 3);
                        setShowResult(true);
                    }, 500);
                }, []);

                return (
                    <motion.div
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        className="min-h-screen p-4 flex items-center justify-center"
                    >
                        <div className="text-center">
                            <motion.div
                                animate={!showResult ? { rotate: 360 } : {}}
                                transition={{ duration: 1, repeat: Infinity }}
                                className="text-9xl mb-8"
                            >
                                {!showResult ? 'üé≤' : diceValue === 1 ? '‚öÄ' : diceValue === 2 ? '‚öÅ' : diceValue === 3 ? '‚öÇ' : diceValue === 4 ? '‚öÉ' : diceValue === 5 ? '‚öÑ' : '‚öÖ'}
                            </motion.div>

                            <AnimatePresence>
                                {showResult && (
                                    <motion.div
                                        initial={{ scale: 0, opacity: 0 }}
                                        animate={{ scale: 1, opacity: 1 }}
                                        className="glass-card p-8"
                                    >
                                        {isWin ? (
                                            <>
                                                <i className="fas fa-trophy text-6xl text-yellow-400 mb-4"></i>
                                                <h2 className="text-3xl font-800 gradient-text mb-2">–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!</h2>
                                                <p className="text-xl mb-6">+${(gameData.bet * 2).toFixed(2)}</p>
                                            </>
                                        ) : (
                                            <>
                                                <i className="fas fa-skull text-6xl text-gray-400 mb-4"></i>
                                                <h2 className="text-3xl font-800 mb-2">–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏</h2>
                                                <p className="text-xl mb-6">-${gameData.bet.toFixed(2)}</p>
                                            </>
                                        )}
                                        
                                        <div className="grid grid-cols-2 gap-4">
                                            <motion.button
                                                whileHover={{ scale: 1.02 }}
                                                whileTap={{ scale: 0.98 }}
                                                className="btn-secondary"
                                                onClick={() => setView('home')}
                                            >
                                                –ù–∞ –≥–ª–∞–≤–Ω—É—é
                                            </motion.button>
                                            <motion.button
                                                whileHover={{ scale: 1.02 }}
                                                whileTap={{ scale: 0.98 }}
                                                className="btn-primary"
                                                onClick={() => setView(`game-${gameData.type}`)}
                                            >
                                                –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞
                                            </motion.button>
                                        </div>
                                    </motion.div>
                                )}
                            </AnimatePresence>
                        </div>
                    </motion.div>
                );
            };

            const DepositView = () => {
                const [amount, setAmount] = useState(10);
                const [method, setMethod] = useState('crypto');

                const handleDeposit = () => {
                    // Simulate deposit
                    setBalance(prev => prev + amount);
                    setView('home');
                };

                return (
                    <motion.div
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        exit={{ opacity: 0, y: -20 }}
                        className="min-h-screen p-4"
                    >
                        <div className="glass-card p-6 mb-6">
                            <h2 className="text-2xl font-800 gradient-text mb-4">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</h2>
                            
                            <div className="mb-6">
                                <label className="block text-sm font-600 mb-2 text-gray-400">
                                    –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
                                </label>
                                <div className="grid grid-cols-2 gap-3">
                                    <motion.button
                                        whileTap={{ scale: 0.95 }}
                                        className={`p-4 rounded-2xl border-2 transition-all ${
                                            method === 'crypto' 
                                                ? 'border-yellow-400 bg-yellow-400/10' 
                                                : 'border-white/10 bg-white/5'
                                        }`}
                                        onClick={() => setMethod('crypto')}
                                    >
                                        <i className="fab fa-bitcoin text-2xl mb-2 text-yellow-400"></i>
                                        <div>Crypto Bot</div>
                                    </motion.button>
                                    <motion.button
                                        whileTap={{ scale: 0.95 }}
                                        className={`p-4 rounded-2xl border-2 transition-all ${
                                            method === 'stars' 
                                                ? 'border-yellow-400 bg-yellow-400/10' 
                                                : 'border-white/10 bg-white/5'
                                        }`}
                                        onClick={() => setMethod('stars')}
                                    >
                                        <i className="fas fa-star text-2xl mb-2 text-yellow-400"></i>
                                        <div>Telegram Stars</div>
                                    </motion.button>
                                </div>
                            </div>

                            <div className="mb-6">
                                <label className="block text-sm font-600 mb-2 text-gray-400">
                                    –°—É–º–º–∞
                                </label>
                                <input
                                    type="number"
                                    className="input-field"
                                    value={amount}
                                    onChange={(e) => setAmount(Number(e.target.value))}
                                    min="1"
                                />
                                <div className="grid grid-cols-4 gap-2 mt-2">
                                    {[10, 25, 50, 100].map(a => (
                                        <motion.button
                                            key={a}
                                            whileTap={{ scale: 0.95 }}
                                            className="btn-secondary text-sm py-2"
                                            onClick={() => setAmount(a)}
                                        >
                                            ${a}
                                        </motion.button>
                                    ))}
                                </div>
                            </div>

                            <motion.button
                                whileHover={{ scale: 1.02 }}
                                whileTap={{ scale: 0.98 }}
                                className="btn-primary w-full"
                                onClick={handleDeposit}
                            >
                                –ü–æ–ø–æ–ª–Ω–∏—Ç—å –Ω–∞ ${amount}
                            </motion.button>
                        </div>
                    </motion.div>
                );
            };

            const WithdrawView = () => {
                const [amount, setAmount] = useState(10);
                const [address, setAddress] = useState('');
                const [step, setStep] = useState(1);

                const handleWithdraw = () => {
                    if (step === 1 && amount <= balance && amount >= 10) {
                        setStep(2);
                    } else if (step === 2 && address) {
                        setBalance(prev => prev - amount);
                        setView('home');
                    }
                };

                return (
                    <motion.div
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        exit={{ opacity: 0, y: -20 }}
                        className="min-h-screen p-4"
                    >
                        <div className="glass-card p-6">
                            <h2 className="text-2xl font-800 gradient-text mb-4">–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h2>
                            
                            {step === 1 ? (
                                <>
                                    <div className="mb-6">
                                        <label className="block text-sm font-600 mb-2 text-gray-400">
                                            –°—É–º–º–∞ –≤—ã–≤–æ–¥–∞ (–º–∏–Ω. $10)
                                        </label>
                                        <input
                                            type="number"
                                            className="input-field"
                                            value={amount}
                                            onChange={(e) => setAmount(Number(e.target.value))}
                                            min="10"
                                            max={balance}
                                        />
                                        <div className="text-sm text-gray-400 mt-2">
                                            –î–æ—Å—Ç—É–ø–Ω–æ: ${balance.toFixed(2)}
                                        </div>
                                    </div>
                                </>
                            ) : (
                                <div className="mb-6">
                                    <label className="block text-sm font-600 mb-2 text-gray-400">
                                        –ê–¥—Ä–µ—Å USDT (TRC20)
                                    </label>
                                    <input
                                        type="text"
                                        className="input-field"
                                        value={address}
                                        onChange={(e) => setAddress(e.target.value)}
                                        placeholder="T..."
                                    />
                                </div>
                            )}

                            <motion.button
                                whileHover={{ scale: 1.02 }}
                                whileTap={{ scale: 0.98 }}
                                className="btn-primary w-full"
                                onClick={handleWithdraw}
                                disabled={(step === 1 && (amount < 10 || amount > balance)) || 
                                         (step === 2 && !address)}
                            >
                                {step === 1 ? '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å' : '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–≤–æ–¥'}
                            </motion.button>
                        </div>
                    </motion.div>
                );
            };

            return (
                <div className="relative min-h-screen">
                    <Particles />
                    
                    <div className="max-w-md mx-auto relative z-10">
                        <AnimatePresence mode="wait">
                            {view === 'home' && <HomeView key="home" />}
                            {view.startsWith('game-') && (
                                <GameView key="game" gameId={view.replace('game-', '')} />
                            )}
                            {view === 'result' && <ResultView key="result" />}
                            {view === 'deposit' && <DepositView key="deposit" />}
                            {view === 'withdraw' && <WithdrawView key="withdraw" />}
                        </AnimatePresence>
                    </div>
                </div>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
